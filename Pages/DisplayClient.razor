@page "/DisplayClient/{Id}"

@inherits DisplayClientsBase
@using RentARoom.Web.Services

@inject IGetClients GetClients
@* @inject NavigationManager Navigation *@


<h3>Display Client</h3>
@if (MyClientSub != null)
{
  <div class="form-group">
        <label for="exampleInputEmail1">Email address</label>
        <input @bind="Id" type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
        <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
  </div>
    <div class="form-group">

        <label for="phone">Phone Number</label>
        <input @bind="PhoneNumber" type="text" class="form-control" id="phone" aria-describedby="phone" placeholder="Enter phone">
    </div>

    <div class="form-group">

        <label for="firstname">First Name</label>
        <input @bind="FirstName"  class="form-control" id="firstname" aria-describedby="first name" placeholder="Enter First Name">
    </div>


    <div class="form-group">

        <label for="lastname">Last Name</label>
        <input @bind="LastName" class="form-control" id="lastname" aria-describedby="last name" placeholder="Enter Last Name">
    </div>

    <p>
        <button class="btn btn-secondary" @onclick="UpdateClientOne" type="button">

            Update Client
        </button>
    </p>
}
else if (MyClients != null)
{
    <div>

        <label for="tbClientId">Enter your ID</label>

        <input type="text" id="tbClientId" name="tbClientId" required minlength="4" maxlength="8"
               @bind="Id" size="5" />

        <button class="btn btn-primary" @onclick="LookupClientById" type="button">
            Lookup by ID
        </button>

      
    </div>
    <div>
        <button class="btn btn-primary" @onclick="MakeOrSeeReservations" type="button">

            Make or see reservations
        </button>

    </div>
    <div>

        @foreach (var client in MyClients)
        {
            <div>
                <h3>
                    Name: @client.FirstName @client.LastName, ID: @client.Id
                </h3>
            </div>

        }
    </div>
}
else
{
    <div class="spinner"></div>



}

